<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¬ë¼ì½˜ - í†µí•© ëª¨ë°”ì¼ ì•± ì‹œë®¬ë ˆì´ì…˜</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        /* ê¸°ë³¸ ë¦¬ì…‹ ë° í°íŠ¸ ì„¤ì • */
        body {
            font-family: 'Pretendard', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f8fc;
            color: #333;
            -webkit-tap-highlight-color: transparent;
        }

        /* ëª¨ë°”ì¼ ì•± ì»¨í…Œì´ë„ˆ */
        .app-container {
            max-width: 500px;
            margin: 0 auto;
            background-color: #fff;
            min-height: 100vh;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding-bottom: 80px; /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” ê³µê°„ í™•ë³´ */
            box-sizing: border-box;
            position: relative;
        }

        /* í™”ë©´ ì „í™˜ ìŠ¤íƒ€ì¼ */
        .screen {
            padding: 0 20px 30px;
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ===================================== */
        /* 1. ë©”ì¸ í™”ë©´ ìŠ¤íƒ€ì¼ */
        /* ===================================== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 0;
        }
        .header h1 {
            font-size: 20px;
            font-weight: 800;
            margin: 0;
            flex-grow: 1;
            text-align: center;
        }
        .icon-button {
            background: none;
            border: none;
            padding: 10px;
            cursor: pointer;
            font-size: 22px;
            color: #333;
            opacity: 0.8;
        }
        .menu-button {
            margin-right: 5px;
        }
        .section-title {
            font-size: 18px;
            font-weight: 800;
            margin: 0 0 18px 0;
            color: #222;
        }

        /* ì•ˆë‚´ ì¹´ë“œ */
        .instruction-card {
            background-color: #e0f7fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #b2ebf2;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 188, 212, 0.1);
        }
        .instruction-title {
            font-size: 16px;
            font-weight: 800;
            color: #00bcd4;
            margin: 0 0 5px 0;
            display: flex;
            align-items: center;
        }
        .instruction-title i {
            font-size: 18px;
            margin-right: 8px;
        }
        .instruction-subtitle {
            font-size: 14px;
            color: #008ba3;
            margin: 0;
        }

        /* ê´‘ê³  ë°°ë„ˆ ì„¹ì…˜ */
        .ad-banner-section {
            background-color: #f0f2f5;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            cursor: pointer;
            height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .ad-label {
            font-size: 12px;
            font-weight: 900;
            color: #007AFF;
            background-color: #CCE5FF;
            padding: 3px 8px;
            border-radius: 5px;
            margin-bottom: 5px;
        }
        .ad-text {
            font-size: 15px;
            font-weight: 700;
            color: #555;
            margin: 0;
        }

        /* ë©”ì¸ ë©”ë‰´ */
        .main-menu {
            margin-bottom: 35px;
            clear: both;
        }
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .menu-item {
            padding: 25px 20px;
            background-color: #ffffff;
            border-radius: 15px;
            border: 1px solid #f0f2f5;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            cursor: pointer;
            transition: all 0.2s;
        }
        .menu-item:active {
            transform: translateY(1px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
        }
        .menu-item i {
            font-size: 35px;
            color: #007AFF;
            margin-bottom: 10px;
        }
        .menu-item p {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
            line-height: 1.3;
            text-align: left;
        }

        /* 3. Promotion Section */
        .promotion-section {
            margin-bottom: 30px;
            width: 100%; 
        }
        
        .promotion-scroll {
            display: flex;
            overflow-x: auto; 
            padding-bottom: 15px;
            width: 100%;
            -webkit-overflow-scrolling: touch; 
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        .promotion-scroll::-webkit-scrollbar {
            height: 6px; 
        }
        .promotion-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
            border-radius: 3px;
        }
        .promotion-scroll::-webkit-scrollbar-thumb {
            background: #ccc; 
            border-radius: 3px;
        }

        .promo-card {
            flex-shrink: 0; 
            width: 250px;
            height: 140px;
            border-radius: 12px;
            padding: 18px;
            margin-right: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        .promo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 50%);
            z-index: 1;
        }
        .promo-title {
            font-size: 18px;
            font-weight: 800;
            color: white;
            z-index: 2;
            margin: 0;
        }
        .promo-subtitle {
            font-size: 14px;
            font-weight: 500;
            color: #eee;
            z-index: 2;
            margin: 5px 0 0 0;
        }

        /* ===================================== */
        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” ìŠ¤íƒ€ì¼ */
        /* ===================================== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 60px;
            background-color: white;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 99;
        }
        .nav-item {
            background: none;
            border: none;
            color: #999;
            padding: 5px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            font-weight: 600;
            transition: color 0.2s;
        }
        .nav-item i {
            font-size: 20px;
            margin-bottom: 3px;
        }
        .nav-item.active-nav {
            color: #007AFF;
        }

        /* ===================================== */
        /* í™”ë©´ ê³µí†µ í—¤ë”/ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        /* ===================================== */
        .exchange-header {
            padding-left: 0;
            padding-right: 0;
        }
        .back-button {
            font-size: 24px;
            padding: 0 15px;
        }
        .screen-title {
            flex-grow: 1;
            text-align: center;
        }
        .exchange-notice, .refund-notice {
            font-size: 14px;
            color: #007AFF;
            background-color: #f0f8ff;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 600;
        }
        .exchange-items-list {
            margin-bottom: 30px;
        }

        /* 1:1 êµí™˜ í˜ì´ì§€ ì¹´í…Œê³ ë¦¬ */
        .category-title {
            font-size: 17px;
            font-weight: 800;
            color: #007AFF;
            margin-top: 25px;
            margin-bottom: 10px;
            padding-left: 5px;
        }
        .category-separator {
            border: none;
            height: 1px;
            background-color: #f0f2f5;
            margin: 15px 0 25px 0;
        }
        .exchange-items-list .category-separator:last-child {
            display: none;
        }
        .exchange-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.1s;
        }
        .exchange-item:last-child {
            border-bottom: none;
        }
        .item-info {
            display: flex;
            align-items: center;
        }
        .item-logo {
            width: 40px;
            height: 40px;
            background-color: #ccc;
            border-radius: 8px;
            margin-right: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
        }
        .item-logo i {
            color: #fff;
        }
        .item-name-value p {
            margin: 0;
            font-weight: 600;
            font-size: 16px;
        }
        .item-name-value span {
            font-size: 13px;
            color: #777;
            font-weight: 400;
        }
        .exchange-button {
            background-color: #007AFF;
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        /* ì œí’ˆ êµí™˜ê¶Œ í˜ì´ì§€ ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        .product-category-menu {
            display: flex;
            overflow-x: scroll;
            padding: 0 0 15px 0;
            margin-bottom: 10px;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .product-category-menu::-webkit-scrollbar {
            display: none;
        }
        .category-button {
            flex-shrink: 0;
            background-color: #e9ecef;
            color: #495057;
            border: none;
            padding: 10px 18px;
            border-radius: 20px;
            margin-right: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        .category-button.active {
            background-color: #007AFF;
            color: white;
        }
        .product-item {
            display: block;
            border: 1px solid #eee;
            border-radius: 12px;
            margin-bottom: 15px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: box-shadow 0.2s;
        }
        .product-item:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .product-title {
            font-weight: 700;
            font-size: 18px;
            color: #222;
            margin: 0;
        }
        .product-price {
            font-weight: 900;
            font-size: 20px;
            color: #FF5722;
        }
        .product-detail {
            font-size: 14px;
            color: #777;
            margin-bottom: 15px;
        }
        .product-detail p {
            margin: 0;
        }
        .product-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .upgrade-info {
            font-size: 13px;
            color: #007AFF;
            font-weight: 600;
        }
        .buy-button {
            background-color: #FF5722;
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
        }


        /* ===================================== */
        /* 4 & 5. í™˜ë¶ˆ/ìƒ˜í”Œ í™”ë©´ (Form/Input) ìŠ¤íƒ€ì¼ */
        /* ===================================== */

        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #333;
        }
        #pin-count {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            appearance: none;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="gray" d="M7 10l5 5 5-5z"/></svg>') no-repeat right 10px center;
            background-size: 18px;
        }
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        .form-group input:focus {
            border-color: #007AFF;
            outline: none;
        }
        .pin-input-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .pin-input-item label {
            flex-shrink: 0;
            width: 40px;
            font-size: 14px;
            font-weight: 700;
            margin: 0 10px 0 0;
            text-align: right;
        }
        .pin-input-item input {
            flex-grow: 1;
            text-align: center;
            letter-spacing: 1px;
        }
        .action-group {
            text-align: center;
            margin-top: 25px;
            margin-bottom: 30px;
        }
        .pin-check-button {
            background-color: #007AFF;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            font-size: 16px;
            margin-bottom: 10px;
        }
        #overall-status {
            font-size: 14px;
            font-weight: 600;
            margin: 0;
            padding: 5px 0;
        }
        .status-default { color: #777; }
        .status-success { color: #4CAF50; }
        .status-error { color: #F44336; }
        .final-amount label { color: #FF5722; }
        .final-amount p { font-size: 24px; font-weight: 900; color: #FF5722; margin-top: 5px; }
        .refund-submit-button {
            width: 100%;
            background-color: #FF5722;
            color: white;
            border: none;
            padding: 15px 0;
            border-radius: 12px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .refund-submit-button:hover {
            background-color: #e64a19;
        }

        /* ì€í–‰ ì„ íƒ Select */
        .select-display {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            color: #777;
            cursor: pointer;
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .select-display.selected {
            color: #333;
            font-weight: 600;
        }
        .select-display::after {
            content: '\f078'; /* fa-solid fa-chevron-down */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            font-size: 14px;
            color: #999;
        }
        /* ì€í–‰ ëª©ë¡ ëª¨ë‹¬ */
        #bank-list-scroll-container {
            max-height: 300px; /* ìŠ¤í¬ë¡¤ ë†’ì´ ì œí•œ */
            overflow-y: auto; /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ ì ìš© */
            border: 1px solid #eee;
            border-radius: 8px;
            margin-top: 10px;
        }
        .bank-item {
            padding: 12px 15px;
            font-size: 16px;
            text-align: left;
            cursor: pointer;
            border-bottom: 1px solid #f7f7f7;
            transition: background-color 0.1s;
            color: #333;
        }
        .bank-item:hover {
            background-color: #f0f8ff;
        }
        .bank-item:last-child {
            border-bottom: none;
        }


        /* ===================================== */
        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        /* ===================================== */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }
        .modal.visible {
            display: flex;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 30px;
            border-radius: 15px;
            width: 100%;
            max-width: 380px;
            position: relative;
            text-align: center;
            box-sizing: border-box;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
        }
        .modal-content h3 {
            margin-top: 0;
            font-size: 20px;
            color: #007AFF;
        }
        .modal-content p {
            font-size: 16px;
            line-height: 1.5;
            margin: 15px 0 30px 0;
            white-space: pre-wrap; /* \n ì²˜ë¦¬ */
        }
        #modal-custom-content {
            margin-bottom: 20px;
        }
        .modal-buttons {
            display: flex;
            justify-content: space-around;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            width: 45%;
            cursor: pointer;
        }
        .btn-cancel {
            background-color: #e0e0e0;
            color: #333;
        }
        .btn-confirm {
            background-color: #007AFF;
            color: white;
        }

        /* ===================================== */
        /* 6. ë§ˆì´í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        /* ===================================== */
        .mypage-profile {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        .profile-info .user-name {
            font-size: 22px;
            font-weight: 800;
            margin: 0;
            color: #222;
        }
        .profile-info .user-email {
            font-size: 14px;
            color: #777;
            margin: 5px 0 0 0;
        }
        .edit-profile-button {
            background-color: #f0f2f5;
            color: #555;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .edit-profile-button i {
            margin-right: 5px;
        }
        
        /* [ì‚­ì œë¨] mypage-balance-summary ìŠ¤íƒ€ì¼ì€ ì œê±° */

        .mypage-section {
            margin-bottom: 30px;
        }
        .mypage-section .section-title {
            font-size: 16px;
            color: #444;
            font-weight: 700;
            border-left: 4px solid #007AFF;
            padding-left: 10px;
            margin-bottom: 15px;
        }
        .menu-list {
            background-color: #ffffff;
            border: 1px solid #f0f2f5;
            border-radius: 12px;
            overflow: hidden;
        }
        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            cursor: pointer;
            border-bottom: 1px solid #f7f8fc;
            font-size: 16px;
            color: #333;
            font-weight: 500;
            transition: background-color 0.1s;
        }
        .list-item:hover {
            background-color: #f7f8fc;
        }
        .list-item:last-child {
            border-bottom: none;
        }
        .list-item i {
            color: #ccc;
            font-size: 14px;
        }
        .list-item.logout {
            color: #F44336;
            font-weight: 700;
        }
        .list-item.logout i {
            color: #F44336;
        }
        .transaction-list-container {
            padding-top: 15px;
        }
        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px dashed #eee;
        }
        .transaction-item:last-child {
            border-bottom: none;
        }
        .transaction-info {
            flex-grow: 1;
        }
        .transaction-title {
            font-size: 16px;
            font-weight: 700;
            margin: 0;
        }
        .transaction-date {
            font-size: 13px;
            color: #999;
            margin: 3px 0 0 0;
        }
        .transaction-amount {
            font-size: 18px;
            font-weight: 800;
            text-align: right;
            min-width: 80px;
        }
        .amount-exchange { color: #007AFF; }
        .amount-refund { color: #F44336; }
        .amount-pin { color: #4CAF50; }

        /* ===================================== */
        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ìµœì í™” (Max-width: 600px) */
        /* ===================================== */
        @media (max-width: 600px) {
            .app-container {
                box-shadow: none;
                padding-bottom: 60px;
            }
            .screen {
                padding: 0 15px 20px;
            }
            .header {
                padding: 15px 0;
            }
            .header h1 {
                font-size: 18px;
            }
            .menu-item {
                padding: 20px 15px;
                min-height: 100px;
            }
            .menu-item i {
                font-size: 30px;
            }
            .menu-item p {
                font-size: 15px;
            }
            .promotion-section {
                margin-bottom: 25px;
            }
            .promo-card {
                width: 220px;
                height: 120px;
            }
            .pin-input-item {
                margin-bottom: 10px;
            }
            .refund-submit-button, .buy-button {
                padding: 14px 0;
                font-size: 17px;
            }
            .product-category-menu {
                padding-bottom: 10px;
            }
            .category-button {
                padding: 8px 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>

<div class="app-container">

    <div id="main-screen" class="screen active">
        <div class="header">
            <button class="icon-button menu-button" onclick="alert('ë©”ë‰´ ì—´ê¸° ê¸°ëŠ¥ì€ ë¯¸êµ¬í˜„ì…ë‹ˆë‹¤.')">
                <i class="fa-solid fa-bars"></i>
            </button>
            <h1>Ollacon ì˜¬<span style="color: #007AFF;">ë¼</span>ì½˜</h1>
            <button class="icon-button" onclick="alert('ì•Œë¦¼ ê¸°ëŠ¥ì€ ë¯¸êµ¬í˜„ì…ë‹ˆë‹¤.')">
                <i class="fa-solid fa-bell"></i>
            </button>
        </div>

        <div class="instruction-card" onclick="showScreen('guide-screen')">
            <p class="instruction-title">
                <i class="fa-solid fa-circle-info"></i>
                ì˜¬ë¼ì½˜ ì‚¬ìš© ê°€ì´ë“œ
            </p>
            <p class="instruction-subtitle">í•€ë²ˆí˜¸ ë“±ë¡ë¶€í„° êµí™˜/í™˜ë¶ˆê¹Œì§€, ì‰½ê²Œ ì´ìš©í•˜ì„¸ìš”!</p>
        </div>

        <div class="main-menu">
            <h2 class="section-title">ì£¼ìš” ì„œë¹„ìŠ¤</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="showScreen('exchange-screen')">
                    <i class="fa-solid fa-right-left"></i>
                    <p>1:1 ê¸ˆì•¡ê¶Œ êµí™˜</p>
                </div>
                <div class="menu-item" onclick="showScreen('product-screen')">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <p>ì œí’ˆ êµí™˜ê¶Œ êµ¬ë§¤</p>
                </div>
                <div class="menu-item" onclick="showScreen('refund-screen')">
                    <i class="fa-solid fa-money-bill-transfer"></i>
                    <p>ì‹¤ì‹œê°„ í™˜ë¶ˆ ì‹ ì²­</p>
                </div>
                <div class="menu-item" onclick="showScreen('sample-screen')">
                    <i class="fa-solid fa-gift"></i>
                    <p>ë¬´ë£Œ ìƒ˜í”Œ ì‹ ì²­</p>
                </div>
            </div>
        </div>

        <div class="ad-banner-section" onclick="alert('ê´‘ê³  í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
            <p class="ad-label">AD</p>
            <p class="ad-text">ìƒˆë¡œì›Œì§„ ì œíœ´ í˜œíƒ, ì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•˜ì„¸ìš”! (ìµœëŒ€ 30% í• ì¸)</p>
        </div>

        <div class="promotion-section">
            <h2 class="section-title">ì¶”ì²œ í”„ë¡œëª¨ì…˜</h2>
            <div class="promotion-scroll">
                
                <div class="promo-card" style="background-image: url('https://via.placeholder.com/250x140/673AB7/FFFFFF?text=Invite')" onclick="alert('ì¹œêµ¬ ì´ˆëŒ€ ì´ë²¤íŠ¸ í˜ì´ì§€')">
                    <p class="promo-title">ì¹œêµ¬ ì´ˆëŒ€ ì´ë²¤íŠ¸</p>
                    <p class="promo-subtitle">ì¹œêµ¬ë„ ë‚˜ë„ 5,000 P ì§€ê¸‰!</p>
                </div>

                <div class="promo-card" style="background-image: url('https://via.placeholder.com/250x140/E91E63/FFFFFF?text=Shoes')" onclick="alert('ì‹ ë°œ í• ì¸ ì—…ì²´ ê´‘ê³  í˜ì´ì§€')">
                    <p class="promo-title">ì‹ ë°œ í• ì¸ (ì—…ì²´ ê´‘ê³ )</p>
                    <p class="promo-subtitle">ìµœëŒ€ 50% í• ì¸ íŠ¹ê°€ ì§„í–‰ ì¤‘!</p>
                </div>

                <div class="promo-card" style="background-image: url('https://via.placeholder.com/250x140/009688/FFFFFF?text=Starbucks')" onclick="alert('ìŠ¤íƒ€ë²…ìŠ¤ í˜ì´ì§€')">
                    <p class="promo-title">ìŠ¤íƒ€ë²…ìŠ¤ ì‹ ê·œ ë©”ë‰´</p>
                    <p class="promo-subtitle">ì‹ ë©”ë‰´ êµ¬ë§¤ ì‹œ ë¬´ë£Œ ì‚¬ì´ì¦ˆì—…</p>
                </div>

                <div class="promo-card" style="background-image: url('https://via.placeholder.com/250x140/FF9800/FFFFFF?text=Beauty')" onclick="alert('ë·°í‹° ê¸°íšì „ í˜ì´ì§€')">
                    <p class="promo-title">ë·°í‹° ë¸Œëœë“œ ìœ„í¬</p>
                    <p class="promo-subtitle">ì¸ê¸° í™”ì¥í’ˆ 1+1 ê¸°íšŒ</p>
                </div>

            </div>
        </div>

    </div>

    <div id="exchange-screen" class="screen">
        <div class="header exchange-header">
            <button class="icon-button back-button" onclick="goBackToMain()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h1 class="screen-title">1:1 ê¸ˆì•¡ê¶Œ êµí™˜</h1>
            <div style="width: 44px;"></div>
        </div>
        <div class="exchange-notice">
            <i class="fa-solid fa-info-circle"></i> ë³´ìœ í•˜ì‹  ì˜¬ë¼ì½˜ ê¸ˆì•¡ê¶Œê³¼ **ë™ì¼í•œ ê¸ˆì•¡**ì˜ ì œíœ´ì‚¬ ê¸ˆì•¡ê¶Œìœ¼ë¡œ êµí™˜ë©ë‹ˆë‹¤.
        </div>
        <div class="exchange-items-list"></div>
    </div>

    <div id="product-screen" class="screen">
        <div class="header exchange-header">
            <button class="icon-button back-button" onclick="goBackToMain()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h1 class="screen-title">ì œí’ˆ êµí™˜ê¶Œ êµ¬ë§¤ (ì¶”ê°€ ê²°ì œ)</h1>
            <div style="width: 44px;"></div>
        </div>
        <div class="exchange-notice">
            <i class="fa-solid fa-info-circle"></i> ì˜¬ë¼ì½˜ ê¸ˆì•¡ê¶Œ ì‚¬ìš© í›„, **ì¶”ê°€ ê¸ˆì•¡**ë§Œ ê²°ì œí•˜ì—¬ ì¸ê¸° ì œí’ˆ êµí™˜ê¶Œì„ êµ¬ë§¤í•©ë‹ˆë‹¤.
        </div>
        <div class="product-category-menu"></div>
        <div class="product-items-list"></div>
    </div>

    <div id="refund-screen" class="screen">
        <div class="header exchange-header">
            <button class="icon-button back-button" onclick="goBackToMain()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h1 class="screen-title">ì‹¤ì‹œê°„ í™˜ë¶ˆ ì‹ ì²­</h1>
            <div style="width: 44px;"></div>
        </div>
        <div class="refund-notice">
            <i class="fa-solid fa-exclamation-triangle"></i> **í™˜ë¶ˆ ì‹ ì²­ ì „ ìœ ì˜ ì‚¬í•­**
            <ul>
                <li>**ì‹¤ì‹œê°„** í™˜ë¶ˆ ì‹œìŠ¤í…œìœ¼ë¡œ ì‹ ì²­ ì¦‰ì‹œ ì²˜ë¦¬ë˜ë©°, **1ë§Œì›ê¶Œ** ë‹¨ìœ„ë¡œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤. (90% í™˜ë¶ˆ)</li>
                <li>í™˜ë¶ˆ ìˆ˜ìˆ˜ë£Œ **10%**ê°€ ì°¨ê°ëœ ê¸ˆì•¡ì´ ì…ê¸ˆë©ë‹ˆë‹¤.</li>
                <li>ìµœì†Œ 1ê°œ, ìµœëŒ€ 10ê°œê¹Œì§€ í•œ ë²ˆì— ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            </ul>
        </div>
        <div class="form-group">
            <label for="pin-count">í™˜ë¶ˆí•  í•€ë²ˆí˜¸ ê°œìˆ˜ ì„ íƒ</label>
            <select id="pin-count" onchange="renderPinInputs()">
                <option value="1">1ê°œ</option>
                <option value="2">2ê°œ</option>
                <option value="3">3ê°œ</option>
                <option value="4">4ê°œ</option>
                <option value="5">5ê°œ</option>
                <option value="6">6ê°œ</option>
                <option value="7">7ê°œ</option>
                <option value="8">8ê°œ</option>
                <option value="9">9ê°œ</option>
                <option value="10">10ê°œ</option>
            </select>
        </div>
        <div id="pin-inputs-container"></div>
        <div class="action-group">
            <button class="pin-check-button" onclick="checkAllPins()">ì „ì²´ í•€ë²ˆí˜¸ ìœ íš¨ì„± í™•ì¸</button>
            <p id="overall-status" class="status-default">í•€ë²ˆí˜¸ ì…ë ¥ í›„ [ì „ì²´ í•€ë²ˆí˜¸ í™•ì¸]ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
        </div>
        <hr style="border-top: 1px solid #eee; margin: 30px 0;">
        <h2 class="section-title" style="margin-top: 0; padding-left: 0;">í™˜ë¶ˆ ì •ë³´ ì…ë ¥</h2>
        
        <div class="form-group">
            <label>ì€í–‰ëª…</label>
            <div id="bank-select-display" class="select-display" onclick="showBankSelectionModal()">
                ì€í–‰ì„ ì„ íƒí•˜ì„¸ìš”
            </div>
            <input type="hidden" id="bank-name-value" value=""> 
        </div>
        
        <div class="form-group">
            <label for="account-number">ê³„ì¢Œë²ˆí˜¸ (í•˜ì´í”ˆ ì—†ì´)</label>
            <input type="text" id="account-number" placeholder="ì˜ˆ: 1234567890">
        </div>
        <div class="final-amount form-group" style="text-align: left;">
            <label>ìµœì¢… ì…ê¸ˆ ì˜ˆì • ê¸ˆì•¡</label>
            <p id="final-refund-amount">0 ì›</p>
        </div>
        <button class="refund-submit-button" onclick="submitRefund()">í™˜ë¶ˆ ì‹ ì²­ ë° ì…ê¸ˆ ìš”ì²­</button>
    </div>

    <div id="sample-screen" class="screen">
        <div class="header exchange-header">
            <button class="icon-button back-button" onclick="goBackToMain()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h1 class="screen-title">ë¬´ë£Œ ìƒ˜í”Œ ì‹ ì²­</h1>
            <div style="width: 44px;"></div>
        </div>
        <div class="exchange-notice">
            <i class="fa-solid fa-star"></i> ì„ ì°©ìˆœ ë¬´ë£Œ ìƒ˜í”Œì„ ì‹ ì²­í•˜ì„¸ìš”! (ì¬ê³  ì†Œì§„ ì‹œ ë§ˆê°)
        </div>
        <h2 class="section-title">ì‹ ì²­ ê°€ëŠ¥ ìƒ˜í”Œ ë¦¬ìŠ¤íŠ¸</h2>
        <div id="sample-list"></div>
        <hr style="border-top: 1px solid #eee; margin: 30px 0;">
        <h2 class="section-title">ë°°ì†¡ ì •ë³´ ì…ë ¥</h2>
        <div class="form-group">
            <label for="sample-name">ì´ë¦„</label>
            <input type="text" id="sample-name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-group">
            <label for="sample-phone">ì—°ë½ì²˜</label>
            <input type="tel" id="sample-phone" placeholder="ì˜ˆ: 010-1234-5678">
        </div>
        <div class="form-group">
            <label for="sample-address">ë°°ì†¡ ì£¼ì†Œ</label>
            <input type="text" id="sample-address" placeholder="ì •í™•í•œ ë„ë¡œëª… ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
        </div>
        <button class="refund-submit-button" onclick="submitSampleRequest()">ë¬´ë£Œ ìƒ˜í”Œ ì‹ ì²­í•˜ê¸°</button>
    </div>

    <div id="guide-screen" class="screen">
        <div class="header exchange-header">
            <button class="icon-button back-button" onclick="goBackToMain()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h1 class="screen-title">ì˜¬ë¼ì½˜ ì‚¬ìš© ê°€ì´ë“œ</h1>
            <div style="width: 44px;"></div>
        </div>
        
        <div class="guide-content-placeholder" style="padding: 20px; border: 1px dashed #ccc; border-radius: 8px; background-color: #f9f9f9;">
            <h2 style="margin-top: 0; color: #007AFF; font-size: 20px;">ğŸŒŸ ì˜¬ë¼ì½˜, ì„ íƒì˜ í•œê³„ë¥¼ ë„˜ì–´ì„  í˜ì‹ </h2>
            <p style="line-height: 1.6; color: #555; font-size: 16px; margin-bottom: 20px;">
                ì„ ë¬¼ì˜ ê¸°ì¨ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë˜, ì‚¬ìš©ì²˜ì˜ ì œí•œìœ¼ë¡œ ì¸í•´ ì•„ì‰¬ì›€ì„ ë‚¨ê²¼ë˜ ê¸°ì¡´ ê¸°í”„í‹°ì½˜ì˜ êµ¬ì¡°ì  ë”œë ˆë§ˆ.<br>
                **ì˜¬ë¼ì½˜(Ollacon)**ì€ ì´ëŸ¬í•œ í™œìš©ì˜ í•œê³„ë¥¼ ì™„ë²½í•˜ê²Œ í•´ì†Œí•˜ê¸° ìœ„í•´ íƒ„ìƒí•œ **ì°¨ì„¸ëŒ€ ê¸°í”„í‹°ì½˜**ì…ë‹ˆë‹¤.
                <br><br>
                í•€ë²ˆí˜¸ ë“±ë¡ í•œ ë²ˆìœ¼ë¡œ ë³„ë„ì˜ ìˆ˜ìˆ˜ë£Œë‚˜ ë³µì¡í•œ ê³¼ì • ì—†ì´, ì‚¬ìš©ìëŠ” ë‹¤ìŒê³¼ ê°™ì€ **ë‘ ê°€ì§€ ì™„ì „í•œ ììœ **ë¥¼ ëˆ„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <ul style="padding-left: 20px; margin: 0; line-height: 1.8;">
                <li style="font-weight: 700; color: #007AFF; margin-bottom: 10px;">
                    ğŸ’° 1:1 ììœ  êµí™˜: 
                    <span style="font-weight: 400; color: #333;">ë³´ìœ í•˜ì‹  ì˜¬ë¼ì½˜ ê¸ˆì•¡ì„ ì›í•˜ëŠ” ë¸Œëœë“œì˜ ê¸°í”„í‹°ì½˜ìœ¼ë¡œ ìˆ˜ìˆ˜ë£Œ ì—†ì´ **ì¦‰ì‹œ êµí™˜**í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.</span>
                </li>
                <li style="font-weight: 700; color: #007AFF;">
                    ğŸ›ï¸ ê°€ì¹˜ í™•ì¥ êµ¬ë§¤: 
                    <span style="font-weight: 400; color: #333;">ì˜¬ë¼ì½˜ ê¸ˆì•¡ì„ ê²°ì œ ìˆ˜ë‹¨ìœ¼ë¡œ í™œìš©í•˜ì—¬ ë” ë‚˜ì•„ê°€ ì›í•˜ëŠ” ì¶”ê°€ ìƒí’ˆì„ ì„ íƒí•˜ê³  ì°¨ì•¡ë§Œ ì¶”ê°€ë¡œ ê²°ì œí•˜ì—¬ **ê°€ì¹˜ë¥¼ ê·¹ëŒ€í™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
                </li>
            </ul>
        </div>
    </div>


    <div id="mypage-screen" class="screen">
        <div class="header exchange-header">
            <div style="width: 44px;"></div> 
            <h1 class="screen-title">ë§ˆì´í˜ì´ì§€</h1>
            <button class="icon-button" onclick="alert('ì„¤ì • ë©”ë‰´ì…ë‹ˆë‹¤.')">
                <i class="fa-solid fa-gear"></i>
            </button>
        </div>
        <div class="mypage-profile">
            <div class="profile-info">
                <p class="user-name">ê¹€ì˜¬ë¼ ë‹˜</p>
                <p class="user-email">ollacon@example.com</p>
            </div>
            <button class="edit-profile-button">
                <i class="fa-solid fa-pen"></i> í¸ì§‘
            </button>
        </div>
        
        <div class="mypage-section" style="margin-top: 20px;">
            <p class="section-title">ì œíœ´/íŒŒíŠ¸ë„ˆ ì½”ë„ˆ</p>
            <div class="menu-list">
                <div class="list-item" onclick="alert('ì œíœ´ì‚¬ë³„ íŠ¹ë³„ í˜œíƒì„ í™•ì¸í•©ë‹ˆë‹¤.')">
                    <span>ì œíœ´ì‚¬ íŠ¹ë³„ í˜œíƒ</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
                <div class="list-item" onclick="alert('íŒŒíŠ¸ë„ˆ ì „ìš© í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
                    <span>íŒŒíŠ¸ë„ˆ ì „ìš© í˜ì´ì§€</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </div>
        </div>

        <div class="mypage-section">
            <p class="section-title">ë‚´ í™œë™</p>
            <div class="menu-list">
                <div class="list-item" onclick="alert('ì¿ í°í•¨ìœ¼ë¡œ ì´ë™')">
                    <span>ë³´ìœ  ì¿ í°í•¨</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
                <div class="list-item" onclick="alert('ì´ìš© ë‚´ì—­ ìƒì„¸')">
                    <span>ì „ì²´ ì´ìš© ë‚´ì—­</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </div>
        </div>
        <div class="mypage-section">
            <p class="section-title">ìµœê·¼ ê±°ë˜ ë‚´ì—­</p>
            <div id="recent-transactions" class="transaction-list-container"></div>
        </div>
        <div class="mypage-section">
            <p class="section-title">ê³ ê° ì„¼í„°</p>
            <div class="menu-list">
                <div class="list-item" onclick="alert('ê³µì§€ì‚¬í•­')">
                    <span>ê³µì§€ì‚¬í•­</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
                <div class="list-item" onclick="alert('1:1 ë¬¸ì˜')">
                    <span>1:1 ë¬¸ì˜í•˜ê¸°</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
                <div class="list-item logout" onclick="alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.')">
                    <span>ë¡œê·¸ì•„ì›ƒ</span>
                    <i class="fa-solid fa-arrow-right-from-bracket"></i>
                </div>
            </div>
        </div>
    </div>

    <nav class="bottom-nav">
        <button class="nav-item active-nav" onclick="showScreen('main-screen', this)">
            <i class="fa-solid fa-house"></i>
            <span>í™ˆ</span>
        </button>
        <button class="nav-item" onclick="showScreen('exchange-screen', this)">
            <i class="fa-solid fa-right-left"></i>
            <span>1:1êµí™˜</span>
        </button>
        <button class="nav-item" onclick="showScreen('product-screen', this)">
            <i class="fa-solid fa-cart-shopping"></i>
            <span>ì œí’ˆêµí™˜ê¶Œêµ¬ë§¤</span>
        </button>
        <button class="nav-item" onclick="showScreen('refund-screen', this)">
            <i class="fa-solid fa-money-bill-transfer"></i>
            <span>í™˜ë¶ˆ</span>
        </button>
        <button class="nav-item" onclick="showScreen('mypage-screen', this)">
            <i class="fa-regular fa-user"></i>
            <span>MY</span>
        </button>
    </nav>

    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <h3 id="modal-title">ì•Œë¦¼</h3>
            <p id="modal-message">ë‚´ìš©ì…ë‹ˆë‹¤.</p>
            <div id="modal-custom-content"></div> 
            <div class="modal-buttons">
                <button class="btn btn-cancel" onclick="closeModal()">ì·¨ì†Œ</button>
                <button class="btn btn-confirm" id="modal-confirm-btn">í™•ì¸</button>
            </div>
        </div>
    </div>

</div> <script>
    // === 1. ë°ì´í„° ëª¨ì˜ ì„¤ì • (Mock Data) ===
    const exchangeItems = [
        // 1ë§Œì›ê¶Œ êµí™˜ ìƒí’ˆ
        { id: 1, category: 'í¸ì˜ì ', name: 'GS25 1ë§Œì›ê¶Œ', brand: 'GS25', sub: '1ë§Œì›ê¶Œ ì „ìš©' },
        { id: 2, category: 'ë² ì´ì»¤ë¦¬', name: 'íŒŒë¦¬ë°”ê²Œëœ¨ 1ë§Œì›ê¶Œ', brand: 'íŒŒë¦¬ë°”ê²Œëœ¨', sub: '1ë§Œì›ê¶Œ ì „ìš©' },
        // 3ë§Œì›ê¶Œ êµí™˜ ìƒí’ˆ
        { id: 3, category: 'ì¹´í˜', name: 'ìŠ¤íƒ€ë²…ìŠ¤ 3ë§Œì› ê¸ˆì•¡ê¶Œ', brand: 'ìŠ¤íƒ€ë²…ìŠ¤', sub: '3ë§Œì›ê¶Œ ì „ìš©' },
        { id: 4, category: 'íŒ¨ìŠ¤íŠ¸í‘¸ë“œ', name: 'ë²„ê±°í‚¹ 3ë§Œì› ê¸ˆì•¡ê¶Œ', brand: 'ë²„ê±°í‚¹', sub: '3ë§Œì›ê¶Œ ì „ìš©' },
        // 5ë§Œì›ê¶Œ êµí™˜ ìƒí’ˆ
        { id: 5, category: 'ì™¸ì‹', name: 'ì• ìŠë¦¬ 5ë§Œì› ê¸ˆì•¡ê¶Œ', brand: 'ì• ìŠë¦¬', sub: '5ë§Œì›ê¶Œ ì „ìš©' }
    ];

    // ì œí’ˆ ëª©ë¡: 1ë§Œ/3ë§Œ/5ë§Œ ê¸ˆì•¡ê¶Œê³¼ ìµœëŒ€ 5ì²œì› ì¶”ê°€ ê²°ì œ ê·œì¹™ì— ë§ë„ë¡ ì¡°ì •
    const productItems = [
        // 1ë§Œì›ê¶Œ ì‚¬ìš© ê°€ëŠ¥ (10,000ì› ~ 15,000ì›)
        { id: 101, category: 'ë² ì´ì»¤ë¦¬', name: 'íŒŒë¦¬ë°”ê²Œëœ¨ ë¡¤ì¼€ì´í¬', price: 13500, brand: 'íŒŒë¦¬ë°”ê²Œëœ¨' }, // 10k + 3.5k
        { id: 102, category: 'ì»¤í”¼', name: 'íˆ¬ì¸í”Œë ˆì´ìŠ¤ ì¼€ì´í¬+ì•„ë©”ë¦¬ì¹´ë…¸', price: 14900, brand: 'íˆ¬ì¸í”Œë ˆì´ìŠ¤' }, // 10k + 4.9k
        // 3ë§Œì›ê¶Œ ì‚¬ìš© ê°€ëŠ¥ (30,000ì› ~ 35,000ì›)
        { id: 103, category: 'ì¹˜í‚¨', name: 'í™©ê¸ˆì˜¬ë¦¬ë¸Œì¹˜í‚¨ + ì½œë¼', price: 33000, brand: 'BBQ' }, // 30k + 3k
        { id: 104, category: 'í”¼ì', name: 'í¬í…Œì´í†  í”¼ì L + ì‚¬ì´ë“œ', price: 34500, brand: 'í”¼ìí—›' }, // 30k + 4.5k
        // 5ë§Œì›ê¶Œ ì‚¬ìš© ê°€ëŠ¥ (50,000ì› ~ 55,000ì›)
        { id: 105, category: 'ì™¸ì‹', name: 'ì• ìŠë¦¬ 2ì¸ ì‹ì‚¬ê¶Œ', price: 54000, brand: 'ì• ìŠë¦¬' }, // 50k + 4k
        { id: 106, category: 'ì „ìì œí’ˆ', name: 'ë¬´ì„  ì´ì–´í° (ë³´ê¸‰í˜•)', price: 50500, brand: 'ê°€ì „' } // 50k + 0.5k
    ];

    const sampleItems = [
        { id: 201, name: 'í”„ë¦¬ë¯¸ì—„ ìƒ´í‘¸ í‚¤íŠ¸ (50ml)', remain: 15 },
        { id: 202, name: 'ê±´ê°•ê¸°ëŠ¥ì‹í’ˆ 3ì¼ë¶„', remain: 5 },
        { id: 203, name: 'ì‹ ìƒ ê³¼ì ë¯¸ë‹ˆíŒ©', remain: 0 } 
    ];

    const transactions = [
        { id: 1, title: 'í™˜ë¶ˆ ì…ê¸ˆ ì™„ë£Œ', date: '2023.10.25', amount: 9000, type: 'refund' },
        { id: 2, title: 'ìŠ¤íƒ€ë²…ìŠ¤ êµí™˜', date: '2023.10.20', amount: -4500, type: 'exchange' },
        { id: 3, title: 'í•€ë²ˆí˜¸ ë“±ë¡', date: '2023.10.15', amount: 10000, type: 'pin' }
    ];

    // ì€í–‰ ëª©ë¡ ë°ì´í„°
    const bankList = [
        "ì¹´ì¹´ì˜¤ë±…í¬", "KBêµ­ë¯¼", "ì‹ í•œ", "ìš°ë¦¬", "í•˜ë‚˜", "NHë†í˜‘", 
        "IBKê¸°ì—…", "KDBì‚°ì—…", "SCì œì¼", "ì”¨í‹°", "ìƒˆë§ˆì„ê¸ˆê³ ", "ì‹ í˜‘", 
        "ìš°ì²´êµ­", "í† ìŠ¤ë±…í¬", "ì¼€ì´ë±…í¬", "ì§€ì—­ë†ì¶•í˜‘", "ìˆ˜í˜‘", "ì „ë¶", 
        "ê²½ë‚¨", "ê´‘ì£¼", "ëŒ€êµ¬", "ë¶€ì‚°", "ì œì£¼"
    ];

    // === 2. í™”ë©´ ì´ˆê¸°í™” ë° ë Œë”ë§ í•¨ìˆ˜ ===

    window.onload = function() {
        renderExchangeList();
        renderProductCategories(); 
        renderProductList('ì „ì²´');
        renderPinInputs(); 
        renderSampleList();
        renderTransactions();
    };

    // í™”ë©´ ì „í™˜ ë¡œì§
    function showScreen(screenId, navElement) {
        const screens = document.querySelectorAll('.screen');
        screens.forEach(s => s.classList.remove('active'));

        document.getElementById(screenId).classList.add('active');

        // ë„¤ë¹„ê²Œì´ì…˜ ë°” ì•„ì´ì½˜ í™œì„±í™” ì²˜ë¦¬
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => item.classList.remove('active-nav'));

        // í•´ë‹¹ í™”ë©´ì´ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ì— í¬í•¨ëœ ê²½ìš°ë§Œ ì•„ì´ì½˜ í™œì„±í™”
        if (navElement) {
            navElement.classList.add('active-nav');
        } else {
            // ë©”ì¸, êµí™˜, ì œí’ˆ, í™˜ë¶ˆ, ë§ˆì´í˜ì´ì§€ ì™¸ì˜ í™”ë©´ (ex: guide-screen)ìœ¼ë¡œ ì´ë™ ì‹œ ë©”ì¸ ì•„ì´ì½˜ í™œì„±í™” ìœ ì§€
            if (screenId === 'main-screen') {
                navItems[0].classList.add('active-nav');
            } else if (screenId === 'exchange-screen') {
                navItems[1].classList.add('active-nav');
            } else if (screenId === 'product-screen') {
                navItems[2].classList.add('active-nav');
            } else if (screenId === 'refund-screen') {
                navItems[3].classList.add('active-nav');
            } else if (screenId === 'mypage-screen') {
                navItems[4].classList.add('active-nav');
            } else {
                 // ê°€ì´ë“œ ë“± ì„œë¸Œ í™”ë©´ìœ¼ë¡œ ì´ë™ ì‹œì—ë„ ë©”ì¸ ì•„ì´ì½˜ í™œì„±í™” (ì‚¬ìš©ì ê²½í—˜ìƒ)
                navItems[0].classList.add('active-nav');
            }
        }
        
        window.scrollTo(0, 0);
    }

    function goBackToMain() {
        showScreen('main-screen');
    }

    // í•€ë²ˆí˜¸ í˜•ì‹ í¬ë§·íŒ… í•¨ìˆ˜ (12ìë¦¬ìš©)
    function formatPinInput(input) {
        let value = input.value.replace(/-/g, '');
        let formatted = '';
        for (let i = 0; i < value.length; i++) {
            if (i > 0 && i % 4 === 0 && i < 12) { // 4ìë¦¬ë§ˆë‹¤ í•˜ì´í”ˆ ì¶”ê°€
                formatted += '-';
            }
            formatted += value[i];
        }
        input.value = formatted;
    }

    // 1:1 êµí™˜ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ ë° PIN ì…ë ¥ ëª¨ë‹¬ í˜¸ì¶œ
    function renderExchangeList() {
        const listContainer = document.querySelector('#exchange-screen .exchange-items-list');
        const categories = ['í¸ì˜ì ', 'ë² ì´ì»¤ë¦¬', 'ì¹´í˜', 'íŒ¨ìŠ¤íŠ¸í‘¸ë“œ', 'ì™¸ì‹'];
        let html = '';
        let addedCategories = {}; 

        categories.forEach(cat => {
            const items = exchangeItems.filter(item => item.category === cat);
            if (items.length > 0) {
                if (!addedCategories[cat]) {
                    html += `<p class="category-title">${cat}</p>`;
                    addedCategories[cat] = true;
                }
                items.forEach(item => {
                    html += `
                        <div class="exchange-item">
                            <div class="item-info">
                                <div class="item-logo"><i class="fa-solid fa-ticket"></i></div>
                                <div class="item-name-value"><p>${item.name}</p><span>${item.sub}</span></div>
                            </div>
                            <button class="exchange-button" onclick="exchangeWithPin('${item.name}')">êµí™˜</button>
                        </div>
                    `;
                });
            }
        });
        listContainer.innerHTML = html;
    }

    // 1:1 êµí™˜ PIN ì…ë ¥ ëª¨ë‹¬ ì²˜ë¦¬
    function exchangeWithPin(itemName) {
        const pinInputHTML = `
            <div class="form-group" style="margin-top:20px; text-align:left;">
                <label for="exchange-pin" style="font-weight:700;">ì˜¬ë¼ì½˜ í•€ë²ˆí˜¸ (12ìë¦¬)</label>
                <input type="text" id="exchange-pin" placeholder="****-****-****" maxlength="14" 
                       oninput="formatPinInput(this)" style="text-align:center; letter-spacing: 2px;">
            </div>
        `;
        
        openModal(
            '1:1 êµí™˜ í™•ì¸', 
            `${itemName}ìœ¼ë¡œ êµí™˜í•˜ë ¤ë©´<br>ì‚¬ìš©í•  ì˜¬ë¼ì½˜ í•€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 
            () => {
                const pin = document.getElementById('exchange-pin').value.replace(/-/g, '').trim();
                // í•€ë²ˆí˜¸ 12ìë¦¬ ìœ íš¨ì„± ê²€ì‚¬ ì‹œë®¬ë ˆì´ì…˜
                if (pin.length === 12) {
                    alert(`${itemName}ìœ¼ë¡œ êµí™˜ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    closeModal(); // ì„±ê³µ ì‹œ ëª¨ë‹¬ ë‹«ê¸°
                } else {
                    alert('í•€ë²ˆí˜¸ 12ìë¦¬ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    // ì¬ê·€ í˜¸ì¶œ ëŒ€ì‹  ì—ëŸ¬ ë©”ì‹œì§€ë§Œ ì¶œë ¥í•˜ê³  ëª¨ë‹¬ì„ ë‹«ì§€ ì•ŠìŒ
                }
            },
            true, // isCustomContent: true (ì»¤ìŠ¤í…€ í¼ ì‚¬ìš© ì•Œë¦¼)
            pinInputHTML // customContentHTML: ì»¤ìŠ¤í…€ í¼ ë‚´ìš©
        );
    }

    // ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸
    function renderProductCategories() {
        const categories = ['ì „ì²´', 'ë² ì´ì»¤ë¦¬', 'ì»¤í”¼', 'ì¹˜í‚¨', 'í”¼ì', 'ì™¸ì‹', 'ì „ìì œí’ˆ']; 
        const container = document.querySelector('.product-category-menu');
        let html = '';
        categories.forEach((cat, idx) => {
            const activeClass = idx === 0 ? 'active' : '';
            html += `<button class="category-button ${activeClass}" onclick="filterProducts(this, '${cat}')">${cat}</button>`;
        });
        container.innerHTML = html;
    }

    function filterProducts(btn, category) {
        document.querySelectorAll('.category-button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderProductList(category);
    }

    // ì œí’ˆ êµí™˜ê¶Œ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    function renderProductList(category) {
        const container = document.querySelector('.product-items-list');
        const filtered = category === 'ì „ì²´' ? productItems : productItems.filter(i => i.category === category);
        
        if(filtered.length === 0) {
            container.innerHTML = '<div style="text-align:center; padding:40px; color:#999;">í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            return;
        }

        let html = '';
        filtered.forEach(item => {
            html += `
                <div class="product-item">
                    <div class="product-header"><p class="product-title">[${item.brand}] ${item.name}</p></div>
                    <div class="product-detail"><p>ì›ê°€: ${item.price.toLocaleString()}ì›</p></div>
                    <div class="product-actions">
                        <div class="upgrade-info"><i class="fa-solid fa-coins"></i> ë³´ìœ ê¸ˆì•¡ + ì°¨ì•¡ê²°ì œ</div>
                        <button class="buy-button" onclick="attemptProductPurchase('${item.name}', ${item.price})">${item.price.toLocaleString()}ì› êµ¬ë§¤</button>
                    </div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    // ì œí’ˆêµí™˜ê¶Œ êµ¬ë§¤ ê·œì¹™ ì ìš© ë° ê²°ì œ ì‹œë®¬ë ˆì´ì…˜
    function attemptProductPurchase(productName, productPrice) {
        // ì‚¬ìš© ê°€ëŠ¥í•œ ì˜¬ë¼ì½˜ ê¸ˆì•¡ê¶Œ (1ë§Œ, 3ë§Œ, 5ë§Œ)
        const availableVouchers = [10000, 30000, 50000]; 
        const maxAddtionalPayment = 5000;
        
        let requiredVoucher = null;
        
        // ê°€ì¥ ì‘ì€ ê¸ˆì•¡ê¶Œë¶€í„° ìˆœíšŒí•˜ë©° ê·œì¹™ì— ë§ëŠ” ê¸ˆì•¡ê¶Œ ì°¾ê¸°
        for (const voucherValue of availableVouchers) {
            const maxAllowedPrice = voucherValue + maxAddtionalPayment;
            
            // 1. ì œí’ˆ ê°€ê²©ì´ ê¸ˆì•¡ê¶Œë³´ë‹¤ ë‚®ìœ¼ë©´ êµ¬ë§¤ ë¶ˆê°€ (ê·œì¹™: 3ë§Œê¶Œìœ¼ë¡œ 15k êµ¬ë§¤ ë¶ˆê°€)
            if (productPrice < voucherValue) {
                continue; 
            }
            
            // 2. ì œí’ˆ ê°€ê²©ì´ ê¸ˆì•¡ê¶Œ + 5ì²œì› ì´í•˜ë©´ êµ¬ë§¤ ê°€ëŠ¥
            if (productPrice <= maxAllowedPrice) {
                requiredVoucher = voucherValue;
                break; // ê°€ì¥ ì‘ì€ ê¸ˆì•¡ê¶Œ ì°¾ì•˜ìœ¼ë‹ˆ ì¢…ë£Œ
            }
        }

        if (requiredVoucher === null) {
            alert(`[êµ¬ë§¤ ë¶ˆê°€] 
ì œí’ˆ ê°€ê²© ${productPrice.toLocaleString()}ì›ì— ëŒ€í•´,
ë³´ìœ í•˜ì‹  1ë§Œì›, 3ë§Œì›, 5ë§Œì› ê¸ˆì•¡ê¶Œìœ¼ë¡œëŠ” êµ¬ë§¤ ê·œì¹™ì„ ë§Œì¡±í•˜ëŠ” êµí™˜ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
(ê¸ˆì•¡ê¶Œ ì´í•˜ ì œí’ˆ êµ¬ë§¤ ë¶ˆê°€ ë° ì¶”ê°€ ê²°ì œ 5ì²œì› í•œë„ ì´ˆê³¼)`);
            return;
        }

        const additionalPayment = productPrice - requiredVoucher;
        let message = `[${productName}] êµ¬ë§¤ë¥¼ ìœ„í•´ ì•„ë˜ ê¸ˆì•¡ê¶Œì´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n`;
        message += `ì‚¬ìš© ê¸ˆì•¡ê¶Œ: ${requiredVoucher.toLocaleString()}ì›\n`;
        message += `ì¶”ê°€ ê²°ì œ ê¸ˆì•¡: ${additionalPayment.toLocaleString()}ì›\n\n`;
        message += 'ê²°ì œ ì°½ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.';

        // ê²°ì œ ì°½ ì‹œë®¬ë ˆì´ì…˜ (ëª¨ë‹¬ ì‚¬ìš©)
        openModal('ê²°ì œ ìš”ì²­', message, () => {
            alert(`ê²°ì œ ì°½ì´ ì—´ë¦¬ê³ , ${additionalPayment.toLocaleString()}ì›ì˜ ì¶”ê°€ ê²°ì œê°€ ì§„í–‰ë©ë‹ˆë‹¤.\n(ê²°ì œ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ)`);
        });
    }

    // í™˜ë¶ˆ í•€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ ë Œë”ë§ (12ìë¦¬ í˜•ì‹ ì ìš©)
    function renderPinInputs() {
        const count = document.getElementById('pin-count').value;
        const container = document.getElementById('pin-inputs-container');
        let html = '';

        for(let i=1; i<=count; i++) {
            html += `
                <div class="pin-input-item">
                    <label>${i}.</label>
                    <input type="text" class="pin-field" placeholder="****-****-****" maxlength="14" oninput="formatPinInput(this)">
                </div>
            `;
        }
        container.innerHTML = html;
        updateRefundAmount(0); 
        document.getElementById('overall-status').className = 'status-default';
        document.getElementById('overall-status').innerText = 'í•€ë²ˆí˜¸ ì…ë ¥ í›„ [ì „ì²´ í•€ë²ˆí˜¸ í™•ì¸]ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.';
    }

    // í•€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ (12ìë¦¬ ê¸¸ì´ í™•ì¸)
    function checkAllPins() {
        const pins = document.querySelectorAll('.pin-field');
        let validCount = 0;
        let isError = false;

        pins.forEach(pin => {
            const val = pin.value.replace(/-/g, '').trim(); // í•˜ì´í”ˆ ì œê±° í›„ ê¸¸ì´ í™•ì¸
            if(val.length !== 12) { // 12ìë¦¬ì—¬ì•¼ í•¨
                pin.style.borderColor = 'red';
                isError = true;
            } else {
                pin.style.borderColor = '#4CAF50';
                validCount++;
            }
        });

        const statusEl = document.getElementById('overall-status');
        if(isError) {
            statusEl.innerText = 'ì¼ë¶€ í•€ë²ˆí˜¸ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (12ìë¦¬ í™•ì¸)';
            statusEl.className = 'status-error';
            updateRefundAmount(validCount);
        } else {
            statusEl.innerText = 'ëª¨ë“  í•€ë²ˆí˜¸ê°€ ì •ìƒ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. (12ìë¦¬)';
            statusEl.className = 'status-success';
            updateRefundAmount(validCount);
        }
    }

    function updateRefundAmount(count) {
        const unitPrice = 10000;
        const feeRate = 0.1; 
        const refundPerUnit = unitPrice * (1 - feeRate);
        const total = refundPerUnit * count;
        document.getElementById('final-refund-amount').innerText = total.toLocaleString() + " ì›";
    }

    // ì€í–‰ ì„ íƒ ëª¨ë‹¬ í‘œì‹œ
    function showBankSelectionModal() {
        let listHtml = '<p style="font-size: 15px; color:#555; margin:0 0 15px 0;">í™˜ë¶ˆ ë°›ìœ¼ì‹¤ ì€í–‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p><div id="bank-list-scroll-container">';
        bankList.forEach(bank => {
            // ì€í–‰ ì„ íƒ ì‹œ selectBank í˜¸ì¶œ í›„ ëª¨ë‹¬ ë‹«ê¸°
            listHtml += `<div class="bank-item" onclick="selectBank('${bank}'); closeModal();">${bank}</div>`;
        });
        listHtml += '</div>';

        // ì€í–‰ ì„ íƒ ëª¨ë‹¬ ì—´ê¸° (í™•ì¸ ë²„íŠ¼ ìˆ¨ê¹€, ì·¨ì†Œ ë²„íŠ¼ì„ 'ë‹«ê¸°'ë¡œ ë³€ê²½)
        openModal(
            'ì€í–‰ ì„ íƒ', 
            '', 
            null, 
            true, 
            listHtml 
        );
        // ëª¨ë‹¬ ì»¤ìŠ¤í„°ë§ˆì´ì§• (í™•ì¸ ë²„íŠ¼ ìˆ¨ê¸°ê¸°)
        document.querySelector('#confirm-modal .btn-confirm').style.display = 'none';
        document.querySelector('#confirm-modal .btn-cancel').innerText = 'ë‹«ê¸°'; 
    }

    // ì€í–‰ ì„ íƒ ì²˜ë¦¬
    function selectBank(bankName) {
        const display = document.getElementById('bank-select-display');
        const input = document.getElementById('bank-name-value');

        display.innerText = bankName;
        display.classList.add('selected');
        input.value = bankName;
        
        // ëª¨ë‹¬ ë‹«í˜ í›„ ì›ë˜ ë²„íŠ¼ ìƒíƒœë¡œ ë³µì›
        document.querySelector('#confirm-modal .btn-confirm').style.display = 'inline-block';
        document.querySelector('#confirm-modal .btn-cancel').innerText = 'ì·¨ì†Œ'; 
    }

    function submitRefund() {
        const amount = document.getElementById('final-refund-amount').innerText;
        if(amount === "0 ì›") {
            alert('ìœ íš¨í•œ í•€ë²ˆí˜¸ê°€ ì—†ê±°ë‚˜ í™•ì¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
            return;
        }
        
        // ì€í–‰ëª…ì€ hidden inputì˜ ê°’ì„ ì‚¬ìš©
        const bank = document.getElementById('bank-name-value').value; 
        const account = document.getElementById('account-number').value;

        if(!bank) {
            alert('ì€í–‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
            return;
        }
        if(!account) {
            alert('ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
        openModal('í™˜ë¶ˆ ì‹ ì²­', `ì´ ${amount}ì„(ë¥¼)<br>${bank} ${account}ë¡œ<br>ì…ê¸ˆ ìš”ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
    }

    function renderSampleList() {
        const container = document.getElementById('sample-list');
        let html = '';
        sampleItems.forEach(item => {
            const isSoldOut = item.remain === 0;
            const btnClass = isSoldOut ? 'style="background-color:#ccc; cursor:not-allowed;"' : '';
            const btnText = isSoldOut ? 'í’ˆì ˆ' : 'ì„ íƒí•˜ê¸°';
            
            html += `
                <div class="exchange-item" ${!isSoldOut ? 'onclick="selectSample(this, \''+item.name+'\')"' : ''}>
                    <div class="item-info">
                        <div class="item-logo" style="background-color: ${isSoldOut?'#eee':'#FF9800'}"><i class="fa-solid fa-gift"></i></div>
                        <div class="item-name-value">
                            <p>${item.name}</p>
                            <span style="color:${isSoldOut?'red':'#007AFF'}">ë‚¨ì€ ìˆ˜ëŸ‰: ${item.remain}ê°œ</span>
                        </div>
                    </div>
                    <button class="exchange-button" ${btnClass}>${btnText}</button>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    let selectedSampleName = '';
    function selectSample(el, name) {
        const allItems = document.querySelectorAll('#sample-list .exchange-item');
        allItems.forEach(item => item.style.backgroundColor = 'transparent');
        el.style.backgroundColor = '#f0f8ff';
        selectedSampleName = name;
        document.getElementById('sample-name').scrollIntoView({behavior: "smooth"});
    }

    function submitSampleRequest() {
        if(!selectedSampleName) {
            alert('ìœ„ ë¦¬ìŠ¤íŠ¸ì—ì„œ ìƒ˜í”Œì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.');
            return;
        }
        const name = document.getElementById('sample-name').value;
        const addr = document.getElementById('sample-address').value;
        if(!name || !addr) {
            alert('ë°°ì†¡ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
        openModal('ì‹ ì²­ ì™„ë£Œ', `[${selectedSampleName}]<br>ìƒ˜í”Œ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!<br>3ì¼ ë‚´ ë°œì†¡ë©ë‹ˆë‹¤.`);
    }

    function renderTransactions() {
        const container = document.getElementById('recent-transactions');
        let html = '';
        transactions.forEach(t => {
            let amountClass = '';
            let amountPrefix = '';
            // ì‹¤ì‹œê°„ ì‹œìŠ¤í…œìœ¼ë¡œ ì¸í•´ P ëŒ€ì‹  ê¸ˆì•¡ê¶Œ ê°€ì¹˜ë¡œ í‘œì‹œ
            if(t.type === 'refund' || t.type === 'pin') {
                amountClass = t.type === 'refund' ? 'amount-refund' : 'amount-pin';
                amountPrefix = '+';
            } else {
                amountClass = 'amount-exchange';
                amountPrefix = ''; // êµí™˜ì€ ì‚¬ìš© ê¸ˆì•¡ì´ ë§ˆì´ë„ˆìŠ¤ë¡œ ê°€ì •
            }
            html += `
                <div class="transaction-item">
                    <div class="transaction-info">
                        <p class="transaction-title">${t.title}</p>
                        <p class="transaction-date">${t.date}</p>
                    </div>
                    <div class="transaction-amount ${amountClass}">
                        ${amountPrefix}${t.amount.toLocaleString()}ì›
                    </div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    const modal = document.getElementById('confirm-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalMsg = document.getElementById('modal-message');
    const confirmBtn = document.getElementById('modal-confirm-btn');
    const modalCustomContent = document.getElementById('modal-custom-content');

    // ëª¨ë‹¬ í•¨ìˆ˜
    function openModal(title, message, confirmCallback, isCustomContent = false, customContentHTML = null) {
        modalTitle.innerText = title;

        if (isCustomContent) {
            modalMsg.style.display = 'none'; 
            modalCustomContent.innerHTML = customContentHTML;
        } else {
            modalMsg.style.display = 'block';
            modalMsg.innerHTML = message;
            modalCustomContent.innerHTML = ''; // ì»¤ìŠ¤í…€ ì»¨í…ì¸  ë¹„ìš°ê¸°
        }
        
        modal.classList.add('visible');
        
        confirmBtn.onclick = function() {
            if (confirmCallback) {
                confirmCallback();
            } else {
                closeModal();
                setTimeout(() => alert('ìš”ì²­ì´ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.'), 100);
            }
            if (!isCustomContent && confirmCallback) closeModal();
            if (!isCustomContent && !confirmCallback) closeModal();
        };
        
        // ë‹«ê¸° ë²„íŠ¼ ë° ì™¸ë¶€ í´ë¦­ í•¸ë“¤ëŸ¬
        const closeHandler = function() {
            closeModal();
            if (isCustomContent) {
                modalCustomContent.innerHTML = '';
                document.querySelector('#confirm-modal .btn-confirm').style.display = 'inline-block';
                document.querySelector('#confirm-modal .btn-cancel').innerText = 'ì·¨ì†Œ'; 
            }
        };
        
        document.querySelector('.close-button').onclick = closeHandler;
        document.getElementById('confirm-modal').onclick = function(event) {
             if (event.target == document.getElementById('confirm-modal')) {
                closeHandler();
            }
        }
    }

    function closeModal() {
        modal.classList.remove('visible');
    }

</script>
</body>
</html>